<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Uninest | Vote on Conductor</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, "Inter", sans-serif;
      background: #ffffff;
      color: #111827;
      line-height: 1.5;
    }

    /* Navbar */
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 20px;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      font-size: 18px;
    }
    .logo {
      width: 32px;
      height: 32px;
      background: #6c3ef6;
      color: white;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    .nav-center {
      display: flex;
      gap: 20px;
    }
    .nav-center a {
      color: #374151;
      text-decoration: none;
      font-weight: 500;
      padding: 8px 12px;
      border-radius: 6px;
      transition: background-color 0.2s;
    }
    .nav-center a:hover {
      background: #f3f4f6;
    }
    .nav-center a.active {
      background: #6c3ef6;
      color: white;
    }
    .nav-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .profile-pic {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      color: #374151;
    }

    /* Main content */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px 20px;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
    }
    .title {
      font-size: 28px;
      font-weight: 700;
      color: #111827;
    }
    .back-btn {
      padding: 8px 16px;
      background: #f3f4f6;
      color: #374151;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 500;
      transition: background-color 0.2s;
    }
    .back-btn:hover {
      background: #e5e7eb;
    }

    /* Kuppi info */
    .kuppi-info {
      background: #f0f9ff;
      border: 1px solid #0ea5e9;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 24px;
    }
    .kuppi-title {
      font-size: 24px;
      font-weight: 700;
      color: #0c4a6e;
      margin-bottom: 8px;
    }
    .kuppi-details {
      color: #0369a1;
      font-size: 16px;
      margin-bottom: 12px;
    }
    .kuppi-description {
      color: #0c4a6e;
      font-size: 14px;
      line-height: 1.6;
    }

    /* Conductors section */
    .conductors-section {
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      overflow: hidden;
    }
    .section-header {
      padding: 16px 20px;
      background: #f9fafb;
      border-bottom: 1px solid #e5e7eb;
      font-weight: 600;
      color: #374151;
    }
    .conductor-item {
      padding: 20px;
      border-bottom: 1px solid #f3f4f6;
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 20px;
    }
    .conductor-item:last-child {
      border-bottom: none;
    }
    .conductor-content {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .conductor-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #6c3ef6;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
    }
    .conductor-info {
      flex: 1;
    }
    .conductor-name {
      font-size: 18px;
      font-weight: 600;
      color: #111827;
      margin-bottom: 4px;
    }
    .conductor-title {
      color: #6b7280;
      font-size: 14px;
      margin-bottom: 8px;
    }
    .conductor-expertise {
      color: #374151;
      font-size: 14px;
      line-height: 1.5;
    }
    .conductor-meta {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-top: 12px;
    }
    .rating-info {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #6b7280;
      font-size: 14px;
    }
    .rating-info .count {
      font-weight: 600;
      color: #374151;
    }
    .module-badge {
      padding: 4px 8px;
      background: #f3f4f6;
      color: #374151;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }

    /* Star rating */
    .star-rating {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .star {
      font-size: 24px;
      cursor: pointer;
      color: #d1d5db;
      transition: color 0.2s;
    }
    .star:hover,
    .star.active {
      color: #fbbf24;
    }
    .star:hover ~ .star {
      color: #d1d5db;
    }

    /* Action buttons */
    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: flex-end;
    }
    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.2s;
      font-size: 14px;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }
    .btn.primary {
      background: #6c3ef6;
      color: white;
    }
    .btn.primary:hover {
      background: #5a2ce0;
    }
    .btn.secondary {
      background: #f3f4f6;
      color: #374151;
      border: 1px solid #d1d5db;
    }
    .btn.secondary:hover {
      background: #e5e7eb;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .nav-center {
        display: none;
      }
      .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }
      .conductor-item {
        flex-direction: column;
        gap: 16px;
      }
      .conductor-content {
        flex-direction: column;
        text-align: center;
      }
      .action-buttons {
        width: 100%;
        flex-direction: row;
        justify-content: space-between;
      }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="nav">
    <div class="brand">
      <div class="logo">U</div>
      <div>Uninest</div>
    </div>
    <div class="nav-center">
      <a href="#">Home</a>
      <a href="votekuppi.html">Kuppis</a>
      <a href="coordinator-dashboard.html">Coordinator</a>
      <a href="#" class="active">Vote Conductor</a>
    </div>
    <div class="nav-right">
      <div class="profile-pic">üë§</div>
    </div>
  </nav>

  <!-- Main content -->
  <div class="container">
    <div class="header">
      <h1 class="title">Vote on Conductor</h1>
      <a href="coordinator-dashboard.html" class="back-btn">‚Üê Back to Dashboard</a>
    </div>

    <!-- Kuppi info -->
    <div class="kuppi-info" id="kuppiInfo">
      <div class="kuppi-title" id="kuppiTitle">Loading...</div>
      <div class="kuppi-details" id="kuppiDetails">Module: Loading...</div>
      <div class="kuppi-description" id="kuppiDescription">Loading description...</div>
    </div>

    <!-- Conductors section -->
    <div class="conductors-section">
      <div class="section-header">Available Conductors</div>
      
      <div class="conductor-item" data-conductor-id="1">
        <div class="conductor-content">
          <div class="conductor-avatar">D</div>
          <div class="conductor-info">
            <div class="conductor-name">Dr. Sarah Johnson</div>
            <div class="conductor-title">Senior Lecturer, Mathematics Department</div>
            <div class="conductor-expertise">Specializes in calculus, linear algebra, and mathematical modeling. 8 years of teaching experience with excellent student feedback.</div>
            <div class="conductor-meta">
              <div class="rating-info">
                <span>‚≠ê</span>
                <span class="count">4.8</span> average rating
              </div>
              <div class="module-badge">Math 101</div>
            </div>
          </div>
        </div>
        <div class="action-buttons">
          <div class="star-rating" data-conductor-id="1">
            <div class="star" data-rating="1" title="Not suitable">‚≠ê</div>
            <div class="star" data-rating="2" title="Somewhat suitable">‚≠ê</div>
            <div class="star" data-rating="3" title="Suitable">‚≠ê</div>
            <div class="star" data-rating="4" title="Very suitable">‚≠ê</div>
            <div class="star" data-rating="5" title="Excellent choice">‚≠ê</div>
          </div>
          <button class="btn primary" onclick="selectConductor('Dr. Sarah Johnson', 1)">Select Conductor</button>
        </div>
      </div>

      <div class="conductor-item" data-conductor-id="2">
        <div class="conductor-content">
          <div class="conductor-avatar">M</div>
          <div class="conductor-info">
            <div class="conductor-name">Prof. Michael Chen</div>
            <div class="conductor-title">Associate Professor, Physics Department</div>
            <div class="conductor-expertise">Expert in electromagnetism, quantum mechanics, and experimental physics. Published 25+ research papers in top journals.</div>
            <div class="conductor-meta">
              <div class="rating-info">
                <span>‚≠ê</span>
                <span class="count">4.6</span> average rating
              </div>
              <div class="module-badge">Physics 202</div>
            </div>
          </div>
        </div>
        <div class="action-buttons">
          <div class="star-rating" data-conductor-id="2">
            <div class="star" data-rating="1" title="Not suitable">‚≠ê</div>
            <div class="star" data-rating="2" title="Somewhat suitable">‚≠ê</div>
            <div class="star" data-rating="3" title="Suitable">‚≠ê</div>
            <div class="star" data-rating="4" title="Very suitable">‚≠ê</div>
            <div class="star" data-rating="5" title="Excellent choice">‚≠ê</div>
          </div>
          <button class="btn primary" onclick="selectConductor('Prof. Michael Chen', 2)">Select Conductor</button>
        </div>
      </div>

      <div class="conductor-item" data-conductor-id="3">
        <div class="conductor-content">
          <div class="conductor-avatar">A</div>
          <div class="conductor-info">
            <div class="conductor-name">Dr. Emily Rodriguez</div>
            <div class="conductor-title">Lecturer, Chemistry Department</div>
            <div class="conductor-expertise">Specializes in organic chemistry, molecular biology, and laboratory techniques. Known for interactive teaching methods.</div>
            <div class="conductor-meta">
              <div class="rating-info">
                <span>‚≠ê</span>
                <span class="count">4.9</span> average rating
              </div>
              <div class="module-badge">Chemistry 101</div>
            </div>
          </div>
        </div>
        <div class="action-buttons">
          <div class="star-rating" data-conductor-id="3">
            <div class="star" data-rating="1" title="Not suitable">‚≠ê</div>
            <div class="star" data-rating="2" title="Somewhat suitable">‚≠ê</div>
            <div class="star" data-rating="3" title="Suitable">‚≠ê</div>
            <div class="star" data-rating="4" title="Very suitable">‚≠ê</div>
            <div class="star" data-rating="5" title="Excellent choice">‚≠ê</div>
          </div>
          <button class="btn primary" onclick="selectConductor('Dr. Emily Rodriguez', 3)">Select Conductor</button>
        </div>
      </div>

      <div class="conductor-item" data-conductor-id="4">
        <div class="conductor-content">
          <div class="conductor-avatar">R</div>
          <div class="conductor-info">
            <div class="conductor-name">Dr. Robert Kim</div>
            <div class="conductor-title">Assistant Professor, Biology Department</div>
            <div class="conductor-expertise">Expert in cell biology, genetics, and molecular biology. Strong background in research and practical applications.</div>
            <div class="conductor-meta">
              <div class="rating-info">
                <span>‚≠ê</span>
                <span class="count">4.7</span> average rating
              </div>
              <div class="module-badge">Biology 101</div>
            </div>
          </div>
        </div>
        <div class="action-buttons">
          <div class="star-rating" data-conductor-id="4">
            <div class="star" data-rating="1" title="Not suitable">‚≠ê</div>
            <div class="star" data-rating="2" title="Somewhat suitable">‚≠ê</div>
            <div class="star" data-rating="3" title="Suitable">‚≠ê</div>
            <div class="star" data-rating="4" title="Very suitable">‚≠ê</div>
            <div class="star" data-rating="5" title="Excellent choice">‚≠ê</div>
          </div>
          <button class="btn primary" onclick="selectConductor('Dr. Robert Kim', 4)">Select Conductor</button>
        </div>
      </div>
    </div>
  </div>

  <script src="security-utils.js"></script>
  <script>
    // Sample kuppi data
    const kuppiData = {
      'Calculus Review': {
        title: 'Calculus Review',
        module: 'Math 101',
        description: 'Comprehensive review session covering limits, derivatives, and applications. Focus on problem-solving techniques and common exam questions.'
      },
      'Electromagnetism': {
        title: 'Electromagnetism',
        module: 'Physics 202',
        description: 'Deep dive into electromagnetic theory, Maxwell\'s equations, and their applications. Practical demonstrations and problem-solving workshop.'
      },
      'Organic Chemistry Basics': {
        title: 'Organic Chemistry Basics',
        module: 'Chemistry 101',
        description: 'Introduction to organic chemistry fundamentals, molecular structures, and reaction mechanisms. Interactive molecular modeling session.'
      },
      'Cell Biology': {
        title: 'Cell Biology',
        module: 'Biology 101',
        description: 'Exploration of cell structure, function, and processes. Microscopy session and cellular pathway analysis.'
      }
    };

    // Get kuppi from URL parameter
    function getKuppiFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('kuppi');
    }

    // Update page content based on kuppi
    function updatePageContent(kuppiTitle) {
      const kuppi = kuppiData[kuppiTitle] || {
        title: kuppiTitle,
        module: 'Unknown Module',
        description: 'No description available.'
      };

      document.getElementById('kuppiTitle').textContent = SecurityUtils.escapeHTML(kuppi.title);
      document.getElementById('kuppiDetails').textContent = `Module: ${SecurityUtils.escapeHTML(kuppi.module)}`;
      document.getElementById('kuppiDescription').textContent = SecurityUtils.escapeHTML(kuppi.description);
      document.title = `Uninest | Vote on Conductor - ${SecurityUtils.escapeHTML(kuppi.title)}`;
    }

    // Star rating functionality
    document.querySelectorAll('.star-rating').forEach(rating => {
      const stars = rating.querySelectorAll('.star');
      const conductorId = rating.getAttribute('data-conductor-id');
      
      stars.forEach((star, index) => {
        star.addEventListener('click', function() {
          const ratingValue = index + 1;
          
          // Update visual state
          stars.forEach((s, i) => {
            if (i <= index) {
              s.classList.add('active');
            } else {
              s.classList.remove('active');
            }
          });
          
          // Store rating
          console.log(`Rated conductor ${conductorId} with ${ratingValue} stars`);
          
          // Show feedback
          const feedback = ratingValue === 1 ? 'Not suitable' : 
                          ratingValue === 2 ? 'Somewhat suitable' :
                          ratingValue === 3 ? 'Suitable' :
                          ratingValue === 4 ? 'Very suitable' : 'Excellent choice';
          alert(`You rated: ${feedback}`);
        });
        
        // Hover effects
        star.addEventListener('mouseenter', function() {
          const starIndex = Array.from(stars).indexOf(this);
          stars.forEach((s, i) => {
            if (i <= starIndex) {
              s.style.color = '#fbbf24';
            }
          });
        });
        
        star.addEventListener('mouseleave', function() {
          stars.forEach(s => {
            if (!s.classList.contains('active')) {
              s.style.color = '#d1d5db';
            }
          });
        });
      });
    });

    // Select conductor function
    function selectConductor(conductorName, conductorId) {
      const kuppiTitle = getKuppiFromURL();
      if (confirm(`Are you sure you want to select ${SecurityUtils.escapeHTML(conductorName)} as the conductor for "${SecurityUtils.escapeHTML(kuppiTitle)}"?`)) {
        // In a real app, this would send to server
        console.log(`Selected conductor: ${conductorName} (ID: ${conductorId}) for kuppi: ${kuppiTitle}`);
        alert(`‚úÖ ${SecurityUtils.escapeHTML(conductorName)} has been selected as the conductor!`);
        
        // Redirect to schedule page
        window.location.href = `kuppi shedule.html?kuppi=${encodeURIComponent(kuppiTitle)}&conductor=${encodeURIComponent(conductorName)}`;
      }
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      const kuppiTitle = getKuppiFromURL();
      if (kuppiTitle) {
        updatePageContent(kuppiTitle);
      } else {
        // Redirect to coordinator dashboard if no kuppi specified
        window.location.href = 'coordinator-dashboard.html';
      }
    });
  </script>

</body>
</html>
